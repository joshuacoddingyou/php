//>>built
define("dgrid/extensions/ColumnHider","dojo/_base/declare dojo/has dojo/on ../util/misc put-selector/put xstyle/css!../css/extensions/ColumnHider.css".split(" "),function(q,h,g,l,e){var m,k,n=h("ie"),p=n&&h("quirks"),r=8>n||p?"htmlFor":"for";return q(null,{hiderMenuNode:null,hiderToggleNode:null,_hiderMenuOpened:!1,_columnHiderRules:null,_columnHiderCheckboxes:null,_renderHiderMenuEntries:function(){var a=this.subRows,b,c,d,f;d=0;for(b=a.length;d<b;d++){f=0;for(c=a[d].length;f<c;f++)this._renderHiderMenuEntry(a[d][f])}},
_renderHiderMenuEntry:function(a){var b=a.id,c,d,f;a.hidden&&this._hideColumn(b);a.unhidable||(c=e("div.dgrid-hider-menu-row"),d=this.domNode.id+"-hider-menu-check-"+b,this._columnHiderCheckboxes[b]=f=e(c,"input#"+d+".dgrid-hider-menu-check.hider-menu-check-"+b+"[type\x3dcheckbox]"),e(c,"label.dgrid-hider-menu-label.hider-menu-label"+b+"["+r+"\x3d"+d+"]",a.label||a.field||""),e(this.hiderMenuNode,c),a.hidden||(f.checked=!0))},renderHeader:function(){var a=this,b=this.hiderMenuNode,c=this.hiderToggleNode,
d;this.inherited(arguments);if(b){for(d in this._columnHiderRules)this._columnHiderRules[d].remove();b.innerHTML=""}else c=this.hiderToggleNode=e(this.headerScrollNode,"div.ui-icon.dgrid-hider-toggle"),this._listeners.push(g(c,"click",function(b){a._toggleColumnHiderMenu(b)})),b=this.hiderMenuNode=e("div#dgrid-hider-menu-"+this.id+".dgrid-hider-menu"),b.style.display="none",e(this.domNode,b),this._listeners.push(g(b,".dgrid-hider-menu-check:"+(9>n||p?"click":"change"),function(b){a._updateColumnHiddenState(b.target.id.substr(a.id.length+
18),!b.target.checked)})),this._listeners.push(g(b,"mousedown",function(a){a.stopPropagation()})),k||(k=g.pausable(document,"mousedown",function(a){m&&m._toggleColumnHiderMenu(a)}),k.pause());this._columnHiderCheckboxes={};this._columnHiderRules={};this._renderHiderMenuEntries()},destroy:function(){this.inherited(arguments);for(var a in this._columnHiderRules)this._columnHiderRules[a].remove()},isColumnHidden:function(a){return!!this._columnHiderRules[a]},_toggleColumnHiderMenu:function(){var a=this._hiderMenuOpened,
b=this.hiderMenuNode,c=this.domNode;b.style.display=a?"none":"";a?b.style.height="":b.offsetHeight>c.offsetHeight-12&&(b.style.height=c.offsetHeight-12+"px");k[a?"pause":"resume"]();m=a?null:this;this._hiderMenuOpened=!a},_hideColumn:function(a){var b="#"+l.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-",c;this._columnHiderRules[a]||(this._columnHiderRules[a]=l.addCssRule(b+a,"display: none;"),8===h("ie")&&!h("quirks")&&(c=l.addCssRule(".dgrid-row-table","display: inline-table;"),window.setTimeout(function(){c.remove()},
0)))},_updateColumnHiddenState:function(a,b){b?this._hideColumn(a):(this._columnHiderRules[a]&&this._columnHiderRules[a].remove(),delete this._columnHiderRules[a]);this.columns[a].hidden=b;g.emit(this.domNode,"dgrid-columnstatechange",{grid:this,column:this.columns[a],hidden:b,bubbles:!0});this.resize()},toggleColumnHiddenState:function(a,b){"undefined"===typeof b&&(b=!this._columnHiderRules[a]);this._updateColumnHiddenState(a,b);this._columnHiderCheckboxes[a].checked=!b}})});
//@ sourceMappingURL=ColumnHider.js.map