//>>built
define("manager/MultiTextField",["dojo/_base/declare"],function(k){return k("Manager.MultiTextField",[],{mtfName:"",constructor:function(a){this.mtfName=a;this.leftSeparator="[";this.rightSeparator="]";this.separator=this.rightSeparator+" "+this.leftSeparator;this.emptyField=this.leftSeparator+this.rightSeparator},getTable:function(){return eval(this.mtfName+"_table")},split:function(a){return a.substring(1,a.length-1).split(this.separator)},join:function(a){for(var b=this.leftSeparator,f=0;f<a.length;f++)0<
f&&(b+=this.separator),b+=a[f];return b+=this.rightSeparator},onSubmit:function(a){for(var b=this.mtfName,f=dojo.byId(manager.getParentForm(b));manager.getElementById(b+"[]");)dojo._destroyElement(b+"[]");data=this.getTable().getdata();var e="";a=a.split(",");for(var d=0;d<data.length;d++)for(var c=0;c<data[d].length;c++){var g=document.createElement("INPUT");g.id=b+"["+d+"]["+c+"]";g.name=b+"["+d+"]["+c+"]";g.type="hidden";var h=dijit.byId(a[c]);h.store?h.store.query({name:data[d][c]}).forEach(function(a){e=
a.id}):e=data[d][c];g.value=e;f.appendChild(g)}return!0},onSelect:function(a){var b=this.getTable();b.onmouse=!1;b.customSelect=function(){for(var f=a.split(","),e=this.get(b.rowSelected),d=0;d<e.length;d++){var c=dijit.byId(f[d]);if(c.store)c.store.query({name:e[d]}).forEach(function(a){c.setValue(a.id)});else if(null!=c.options)for(var g=0;g<c.options.length;g++){if(c.options[g].text==e[d]){c.selectedIndex=g;break}}else""!==e[d]&&(c.textbox.value=e[d])}}},getInput:function(a){a=a.split(",");for(var b=
Array(a.length),f=0;f<a.length;f++){var e=manager.getElementById(a[f]);b[f]=null!=e.options?e.options[e.selectedIndex].text:e.value}return b},add:function(a){this.getTable().add(this.getInput(a))},remove:function(a){a=this.getTable();this.isSelected()&&a.drop(a.rowSelected)},modify:function(a){var b=this.getTable();this.isSelected()&&b.modify(b.rowSelected,this.getInput(a))},isSelected:function(){return""==this.getTable().rowSelected?(alert("Nenhum item selecionado!"),!1):!0}})});
//@ sourceMappingURL=MultiTextField.js.map