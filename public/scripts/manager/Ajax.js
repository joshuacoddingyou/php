//>>built
define("manager/Ajax",["dojo/_base/declare","dojo/_base/lang","dojo/request","dojo/request/iframe"],function(g,f,e,h){return g("Manager.Ajax",[],{loading:'\x3cimg src\x3d"images/loading.gif" border\x3d"0" alt\x3d""\x3e',url:null,form:null,response_type:"JSON",updateElement:null,parameters:null,content:null,remote_method:"",load:null,sync:!1,constructor:function(a){a.url&&(this.url=a.url);a.form&&(this.form=a.form);a.content&&(this.content=a.content);a.response_type&&(this.response_type=a.response_type);
a.updateElement&&(this.updateElement=a.updateElement);a.parameters&&(this.parameters=a.parameters);a.remote_method&&(this.remote_method=a.remote_method);a.callback_function&&(this.callback_function=a.callback_function);a.load&&(this.load=a.load);a.sync&&(this.sync=a.sync)},update:function(a,c){manager.getElementById(this.updateElement).innerHTML=a},error:function(a,c){if(errDiv=manager.getElementById("stdout"))errDiv.innerHTML=c.xhr.responseText},ioerror:function(a,c){},getParameters:function(){var a=
{};null!=this.parameters&&(f.isFunction(this.parameters)?(a=this.parameters(),f.isObject(a)||(a={__EVENTARGUMENT:a})):a=this.parameters);a.__ISAJAXCALL="yes";a.__EVENTTARGETVALUE=this.remote_method;a.ajaxResponseType=response_type;return a},get:function(){var a=this.callback_function?this.callback_function:this.update,c=this.response_type.toLowerCase(),d=this.url?this.url:manager.getCurrentURL(),b={};b.args={query:this.getParameters(),handleAs:c,sync:this.sync};e.get(d,b.args).then(function(c){a(c,
b)})},call:function(){var a=this.response_type.toLowerCase();this.updateElement&&this.update(this.loading);var c=this.url?this.url:manager.getAction(),d=this.callback_function?this.callback_function:this.update,b={};null!=this.form?(this.content.ajaxResponseType=a,b.args={form:this.form,data:this.content,content:this.content,handleAs:a},"yes"==manager.page.fileUpload?h.post(c,b.args).then(function(a){d(a,b)}):e.post(c,b.args).then(function(a){d(a,b)})):(b.args={updateElement:this.updateElement,data:this.content,
content:this.content,handleAs:a},e.post(c,b.args).then(function(a){d(a,b)}))}})});
//@ sourceMappingURL=Ajax.js.map