//>>built
define("manager/DGrid","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/Deferred dojo/parser dojo/aspect dojo/dom-construct dojo/dom-class dojo/store/Memory dojo/store/JsonRest dijit/registry dojo/store/util/QueryResults dojo/store/Observable dojo/store/Cache dgrid/Grid dgrid/OnDemandGrid dgrid/extensions/Pagination".split(" "),function(g,h,d,v,w,k,l,e,x,n,m,p,y,q,r,s,t,u){return g("Manager.DGrid",[],{constructor:function(a,b,c){this.name=a;this.firstIndex=b;this.columns=
this.data=null;this.widgets=[];this.dgrid=null;this.dgridType=c;this.store=null;this.arrayData=[];this.arrayColumns=[];this.actionData=""},startup:function(){d.forEach(this.data,h.hitch(this,function(a,b){var c={},f=b+this.firstIndex;d.map(a,function(a,b){c.id=f;c.widgets=[];c["field"+b]=a});this.arrayData[b++]=c}));this.store=q(r(m({baseTarget:this.actionData,idProperty:"idPessoa",query:function(a,b){this.target=this.baseTarget+"?start\x3d"+b.start+"\x26count\x3d"+b.count;return m.prototype.query.call(this,
a,b)}}),n()));this.store.getChildren=function(a,b){return this.store.query({parent:a.id},b)};d.map(this.columns,h.hitch(this,function(a,b){e.toDom(a.label);this.arrayColumns[b]={label:a.label,field:a.field,className:a.className,sortable:a.sortable,renderHeaderCell:function(b){if("\x3c"==a.label.charAt(0)){var f=e.toDom(a.label);e.place(f,b);k.parse(b)}else b.appendChild(document.createTextNode(a.label))},renderCell:function(b,a,d){d.appendChild(document.createTextNode(a))}}}));"demand"==this.dgridType?
this.dgridOnDemand():this.dgridPagination()},dgridOnDemand:function(){this.dgrid=new t({},this.name);this.dgrid.set("minRowsPerPage",16);this.dgrid.set("store",this.store);this.dgrid.set("columns",this.arrayColumns);this.dgrid.startup()},dgridPagination:function(){this.dgrid=new (g([s,u]))({pagingLinks:1,pagingTextBox:!0,firstLastArrows:!0,pageSizeOptions:[10,15,25]},this.name);l.after(this.dgrid,"renderArray",function(a){for(var b=0;b<a.length;b++)k.parse(a[b].id);return a});l.before(this.dgrid,
"renderRow",function(a){for(var b=0;b<a.widgets.length;b++){var c=p.byId(a.widgets[b]);c&&c.destroyRecursive()}},!0);this.dgrid.set("store",this.store);this.dgrid.set("columns",this.arrayColumns);this.dgrid.startup()}})});
//@ sourceMappingURL=DGrid.js.map